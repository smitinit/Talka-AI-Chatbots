"use client";
import { jsx as _jsx, jsxs as _jsxs } from "react/jsx-runtime";
import { useState } from "react";
import { motion } from "framer-motion";
import { MessageSquare, X, Maximize2, Minimize2 } from "lucide-react";
import ChatInterface from "./ChatInterface";
const ChatbotPreview = ({ botId, position = "bottom-right", }) => {
    const [isOpen, setIsOpen] = useState(false);
    const [isExpanded, setIsExpanded] = useState(false);
    const posClass = position === "bottom-right"
        ? "right-4 sm:right-6 md:right-8"
        : "left-4 sm:left-6 md:left-8";
    return (_jsxs("div", { className: `fixed flex flex-col items-end z-50 ${posClass} ${isExpanded ? "inset-0" : "bottom-4 sm:bottom-6 md:bottom-8"}`, children: [isExpanded && isOpen && (_jsx(motion.div, { initial: { opacity: 0 }, animate: { opacity: 1 }, transition: { duration: 0.3, ease: "easeOut" }, className: "fixed inset-0 bg-black/40 dark:bg-black/60 z-40", onClick: () => setIsExpanded(false) })), isExpanded && isOpen && (_jsxs(motion.div, { initial: { opacity: 0, y: 20, scale: 0.95 }, animate: { opacity: 1, y: 0, scale: 1 }, transition: { duration: 0.4, ease: [0.34, 1.56, 0.64, 1] }, className: "fixed inset-4 sm:inset-6 md:inset-auto md:left-1/2 md:top-1/2 md:transform md:-translate-x-1/2 md:-translate-y-1/2 md:w-[550px] md:h-[750px] lg:w-[600px] lg:h-[800px] max-w-[calc(100vw-2rem)] max-h-[calc(100vh-2rem)] z-50 flex flex-col rounded-3xl border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-900 shadow-2xl overflow-hidden", children: [_jsxs("div", { className: "flex items-center justify-between px-4 py-3 bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-700", children: [_jsx("h3", { className: "text-sm font-semibold text-gray-900 dark:text-white", children: "Expanded Chat" }), _jsx("button", { onClick: () => setIsExpanded(false), className: "text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 transition-colors p-1", children: _jsx(Minimize2, { className: "w-4 h-4" }) })] }), _jsx(ChatInterface, { botId: botId })] })), isOpen && !isExpanded && (_jsxs(motion.div, { initial: { opacity: 0, y: 20, scale: 0.95 }, animate: { opacity: 1, y: 0, scale: 1 }, transition: { duration: 0.4, ease: [0.34, 1.56, 0.64, 1] }, className: "absolute bottom-full mb-4 w-full max-w-sm sm:max-w-md md:max-w-lg lg:max-w-2xl h-[500px] sm:h-[600px] md:h-[680px] max-h-[calc(100vh-6rem)] overflow-hidden rounded-2xl border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-900 shadow-2xl hover:shadow-[0_20px_60px_-12px_rgba(0,0,0,0.3)] dark:hover:shadow-[0_20px_60px_-12px_rgba(0,0,0,0.6)] transition-shadow duration-300 flex flex-col", children: [_jsxs("div", { className: "flex items-center justify-between px-4 py-3 bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-700", children: [_jsx("h3", { className: "text-sm font-semibold text-gray-900 dark:text-white", children: "Chat" }), _jsx("button", { onClick: () => setIsExpanded(true), className: "text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 transition-colors p-1", children: _jsx(Maximize2, { className: "w-4 h-4" }) })] }), _jsx("div", { className: "flex-1 overflow-hidden", children: _jsx(ChatInterface, { botId: botId }) })] })), _jsx("button", { onClick: () => setIsOpen((p) => !p), className: "w-14 h-14 sm:w-16 sm:h-16 rounded-full \r\n                   bg-linear-to-br from-blue-600 to-blue-700 \r\n                   hover:from-blue-700 hover:to-blue-800 \r\n                   shadow-lg hover:shadow-xl transition-all duration-300 \r\n                   transform hover:scale-110 active:scale-95 flex items-center justify-center\r\n                   text-white font-semibold border-2 border-white dark:border-gray-800\r\n                   backdrop-blur-sm", children: isOpen ? (_jsx(X, { className: "w-6 h-6 sm:w-7 sm:h-7" })) : (_jsx(MessageSquare, { className: "w-6 h-6 sm:w-7 sm:h-7" })) })] }));
};
export default ChatbotPreview;
